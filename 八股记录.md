# MySQL 存储引擎

是 MySQL 数据库的核心组件，负责数据的存储、检索和管理。

```sql
-- 查看所有支持的存储引擎
show engines;

-- 查看某表的存储引擎
show table status like '表名';

-- 创建表时指定存储引擎
create table 表名 (...) engine = InnoDB;

-- 修改现有表的存储引擎
alter table 表名 engine = InnoDB;
```

## 主要包括：

### InnoDB(重点)：

- 支持事务、行级锁和外键。 ·提供高并发性能，适用于高负载的OLTP应用。 ·数据以聚集索引的方式存储，提高检索效率。

### MyISAM (重点)：

- 不支持事务和外键，使用表级锁。 ·适合读取多、更新少的场景，如数据仓库。 ·具有较高的读性能和较快的表级锁定。

# MySQL索引的最左前缀匹配原则

指的是在使用联合索引时，查询条件必须从索引的最左侧开始匹配。如果一个联合索引包含
多个列，查询条件必须包含第一个列的条件，然后是第二个列，以此类推。

- 底层原理：因为联合索引|在B+树中的排列方式遵循“从左到右”的顺序，例如联合索引(first_name，last_name，age)会按照(first_name，last_name，age)的顺序在 B+树中进行排序。

- MySQL在查找时会优先使用first_name作为匹配依据，然后依次使用1ast_name和age。因此，组合索引l能够从左到右
  依次高效匹配，跳过最左侧字段会导致无法利用该索引。

- 按照(first_name，last_name,age)的顺序在B+树中的排列方式(大致的示意图)如下：

```scss
                            (Alice, Black, 35)
                                    |
        --------------------------------------------------------
        |                    |                |                |
(Alice, Brown, 25) (Alice, Smith, 30) (Bob, Smith, 20) (Bob, White, 19)
```
